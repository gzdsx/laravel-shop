<?php/*|--------------------------------------------------------------------------| API Routes|--------------------------------------------------------------------------|| Here is where you can register API routes for your application. These| routes are loaded by the RouteServiceProvider within a group which| is assigned the "api" middleware group. Enjoy building your API!|*///use Illuminate\Support\Facades\Route;use function AlibabaCloud\Client\json;Route::group(['namespace' => 'Api'], function () {    //认证    Route::group(['namespace' => 'OAuth'], function () {        Route::post('register', 'RegisterController@register');        Route::post('ver_code_login', 'LoginController@verCodeLogin');    });    //用户    Route::group(['namespace' => 'User', 'prefix' => 'user'], function () {        //微信        Route::post('miniprogram.session', 'MiniProgramController@session');        Route::post('miniprogram.login', 'MiniProgramController@login');        Route::post('miniprogram.register', 'MiniProgramController@register');        Route::post('miniprogram.decrypt', 'MiniProgramController@decrypt');        Route::post('miniprogram.phonenumber', 'MiniProgramController@getPhoneNumber');        Route::post('miniprogram.confirm_login', 'MiniProgramController@confirmLogin')->middleware('auth:api');        Route::post('officialaccount.login', 'OfficialAccountController@login');        Route::group(['middleware' => 'auth:api',], function () {            //用户            Route::get('user.getInfo', 'UserController@getInfo');            Route::get('info.getInfo', 'UserInfoController@getInfo');            Route::post('info.updateAvatar', 'UserInfoController@updateAvatar');            Route::post('info.updateName', 'UserInfoController@updateName');            //资料            Route::get('profile', 'ProfileController@profile');            Route::post('profile.update', 'ProfileController@update');            //账户            Route::get('account', 'AccountController@getAccount');            Route::post('account.resetpassword', 'AccountController@resetPassword');            Route::post('account.transfer', 'AccountController@transfer');            //账单            Route::get('bill.getInfo', 'BillController@getInfo');            Route::get('bill.getList', 'BillController@getList');            //地址            Route::get('address.getInfo', 'AddressController@getInfo');            Route::get('address.getList', 'AddressController@getList');            Route::post('address.create', 'AddressController@create');            Route::post('address.update', 'AddressController@update');            Route::post('address.setDefault', 'AddressController@setDefault');            //通知            Route::get('notification', 'NotificationController@notification');            Route::get('readnotification', 'NotificationController@readNotifications');            Route::get('unreadnotification', 'NotificationController@unreadNotification');            Route::get('notification.getInfo', 'NotificationController@getInfo');            Route::post('notification.delete', 'NotificationController@delete');            //转账            Route::get('transfer.commonly', 'TransferController@commonly');            Route::get('transfer.search', 'TransferController@search');            Route::get('transfer.find', 'TransferController@find');            //工作经验            Route::get('position.getInfo', 'PositionController@getInfo');            Route::get('position.getList', 'PositionController@getList');            Route::post('position.create', 'PositionController@create');            Route::post('position.update', 'PositionController@update');            Route::post('position.delete', 'PositionController@delete');            //教育经历            Route::get('education.getInfo', 'EducationController@getInfo');            Route::get('education.getList', 'EducationController@getList');            Route::post('education.create', 'EducationController@create');            Route::post('education.update', 'EducationController@update');            Route::post('education.delete', 'EducationController@delete');            //求职意向            Route::get('job.intention.getList', 'JobIntentionController@getList');            Route::post('job.intention.create', 'JobIntentionController@create');            Route::post('job.intention.update', 'JobIntentionController@update');            Route::post('job.intention.delete', 'JobIntentionController@delete');        });    });    //基础    Route::group(['namespace' => 'Common'], function () {        //区位        Route::get('district/district.getInfo', 'DistrcitController@getInfo');        Route::get('district/district.getList', 'DistrcitController@getList');        Route::get('district/district.getCityList', 'DistrcitController@getCityList');        //内容模块        Route::get('block/block.getInfo', 'BlockController@getInfo');        Route::get('block/block.getList', 'BlockController@getList');        //素材        Route::get('material/material.getInfo', 'MaterialController@getInfo')->middleware('auth:api');        Route::get('material/material.getList', 'MaterialController@getList')->middleware('auth:api');        Route::post('material/material.upload', 'MaterialController@upload')->middleware('auth:api');        //快递        Route::get('express/express.getInfo', 'ExpressController@getInfo')->middleware('auth:api');        Route::get('express/express.getList', 'ExpressController@getList')->middleware('auth:api');        //菜单        Route::get('menu/menu.getInfo', 'MenuController@getInfo');        //客服        Route::get('kefu/kefu.getInfo', 'KefuController@getInfo');        Route::get('kefu/kefu.getList', 'KefuController@getList');        //链接管理        Route::get('link/link.getInfo', 'LinkController@getInfo');        Route::get('link/link.getList', 'LinkController@getList');        //广告管理        Route::get('ad/ad.getInfo', 'AdController@getInfo');        Route::get('ad/ad.getList', 'AdController@getList');        //apns        Route::post('apns/jpush', 'ApnsController@jpush');    });    //页面    Route::group(['namespace' => 'Page', 'prefix' => 'page'], function () {        Route::get('page.getInfo', 'PageController@getInfo');        Route::get('page.getList', 'PageController@getList');        Route::get('category.getList', 'CategoryController@getList');    });    //文章    Route::group(['namespace' => 'Post', 'prefix' => 'post'], function () {        Route::get('item.getInfo', 'ItemController@getInfo');        Route::get('item.getList', 'ItemController@getList');        Route::get('content.getInfo', 'ContentController@getInfo');        Route::get('category.getInfo', 'CategoryController@getInfo');        Route::get('category.getList', 'CategoryController@getList');        Route::post('subscribe.getList', 'SubscribeController@getList')->middleware('auth:api');        Route::post('subscribe.toggle', 'SubscribeController@toggle')->middleware('auth:api');        Route::post('subscribe.delete', 'SubscribeController@delete')->middleware('auth:api');    });    //直播    Route::group(['namespace' => 'Live', 'prefix' => 'live'], function () {        Route::get('info', 'LiveController@getInfo');        Route::get('list', 'LiveController@getList');        Route::get('channel/info', 'ChannelController@getInfo');        Route::get('channel/list', 'ChannelController@getList');        Route::get('ticket', 'LiveController@getTicket')->middleware('auth:api');;        Route::post('ticket/buy', 'LiveController@buyTicket')->middleware('auth:api');    });    //视频    Route::group(['namespace' => 'Video', 'prefix' => 'video'], function () {        Route::get('info', 'VideoController@getInfo');        Route::get('list', 'VideoController@getList');        Route::post('save', 'VideoController@save')->middleware('auth:api');        Route::post('create', 'VideoController@create')->middleware('auth:api');        Route::post('delete', 'VideoController@delete')->middleware('auth:api');        Route::post('upload', 'VideoController@upload')->middleware('auth:api');        Route::post('watch', 'VideoController@watch')->middleware('auth:api');        //点赞        Route::get('like/check', 'LikeController@check')->middleware('auth:api');        Route::post('like/toggle', 'LikeController@toggle')->middleware('auth:api');        Route::post('like/create', 'LikeController@create')->middleware('auth:api');        Route::post('like/delete', 'LikeController@delete')->middleware('auth:api');        //评论        Route::get('comment/list', 'CommentController@getList');        Route::post('comment/create', 'CommentController@create')->middleware('auth:api');    });    //交易    Route::group(['namespace' => 'Trade', 'prefix' => 'trade', 'middleware' => 'auth:api'], function () {        Route::get('bought.info', 'BoughtController@getInfo');        Route::get('bought.list', 'BoughtController@getList');        Route::post('bought.notice', 'BoughtController@notice');        Route::post('bought.cancel', 'BoughtController@cancel');        Route::post('bought.confirm', 'BoughtController@confirm');        Route::post('bought.delete', 'BoughtController@delete');        //已售        Route::get('sold/info', 'SoldController@getInfo');        Route::get('sold/list', 'SoldController@getList');        Route::post('sold/adjustprice', 'SoldController@adjustPrice');        Route::post('sold/send', 'SoldController@send');        //付款        Route::post('order.pay', 'OrderController@pay')->middleware('auth:api');        //退货        Route::get('refund/info', 'RefundController@getInfo');        Route::get('refund/list', 'RefundController@getList');        Route::post('refund/apply', 'RefundController@apply');        Route::post('refund/create', 'RefundController@create');        Route::post('refund/revoke', 'RefundController@revoke');        Route::post('refund/delete', 'RefundController@delete');        Route::post('refund/save', 'RefundController@save');        Route::post('refund/send', 'RefundController@send');    });    //电商    Route::group(['namespace' => 'Ecom', 'prefix' => 'ecom'], function () {        //产品        Route::get('product.info', 'ProductController@getInfo');        Route::get('product.list', 'ProductController@getList');        Route::get('product.groups', 'ProductController@groups');        //产品分类        Route::get('product.category.info', 'ProductCategoryController@getInfo');        Route::get('product.category.list', 'ProductCategoryController@getList');        //店铺        Route::get('shop/info', 'ShopController@getInfo');        Route::get('shop/list', 'ShopController@getList');        Route::post('shop/create', 'ShopCreateController@create')->middleware('auth:api');        Route::post('shop/update', 'ShopController@update')->middleware('auth:api');        //商品属性        Route::get('product/attr/info', 'ProductAttrController@getInfo')->middleware('auth:api');        Route::get('product/attr/list', 'ProductAttrController@getList')->middleware('auth:api');        Route::post('product/attr/create', 'ProductAttrController@create')->middleware('auth:api');        Route::post('product/attr/update', 'ProductAttrController@update')->middleware('auth:api');        Route::post('product/attr/delete', 'ProductAttrController@delete')->middleware('auth:api');        Route::post('product/attr/updateAttrValue', 'ProductAttrController@updateAttrValue')->middleware('auth:api');        Route::get('product/attrvalue/list', 'ProductAttrValueController@getList')->middleware('auth:api');        Route::post('product/attrvalue/create', 'ProductAttrValueController@create')->middleware('auth:api');        Route::post('product/attrvalue/update', 'ProductAttrValueController@update')->middleware('auth:api');        Route::post('product/attrvalue/delete', 'ProductAttrValueController@delete')->middleware('auth:api');        //订单        Route::post('order.calculate', 'OrderController@calculate')->middleware('auth:api');        Route::post('order.create', 'OrderController@create')->middleware('auth:api');        Route::get('order.close.reasons', function () {            return jsonSuccess(['items' => trans('trade.close_reasons')]);        })->middleware('auth:api');    });    //人才    Route::group(['namespace' => 'Talent', 'prefix' => 'talent'], function () {        Route::get('job.category.getInfo', 'JobCategoryController@getInfo');        Route::get('job.category.getList', 'JobCategoryController@getList');        Route::get('job.getInfo', 'JobController@getInfo');        Route::get('job.getList', 'JobController@getList');        Route::get('job.info.getInfo', 'JobInfoController@getInfo')->middleware('auth:api');        Route::get('job.info.getList', 'JobInfoController@getList')->middleware('auth:api');        Route::post('job.info.create', 'JobInfoController@create')->middleware('auth:api');        Route::post('job.info.update', 'JobInfoController@update')->middleware('auth:api');        Route::post('job.info.delete', 'JobInfoController@delete')->middleware('auth:api');        //职位申请        Route::post('job.apply.create', 'JobApplyController@create')->middleware('auth:api');        Route::post('job.apply.delete', 'JobApplyController@delete')->middleware('auth:api');        Route::get('job.apply.getList', 'JobApplyController@getList')->middleware('auth:api');        //职位收藏        Route::post('job.subscribe.create', 'JobSubscribeController@create')->middleware('auth:api');        Route::post('job.subscribe.delete', 'JobSubscribeController@delete')->middleware('auth:api');        Route::get('job.subscribe.getList', 'JobSubscribeController@getList')->middleware('auth:api');        Route::get('company.getInfo', 'CompanyController@getInfo');        Route::get('company.getList', 'CompanyController@getList');        Route::get('company.info.getInfo', 'CompanyInfoController@getInfo')->middleware('auth:api');        Route::get('company.info.getList', 'CompanyInfoController@getList')->middleware('auth:api');        Route::post('company.info.create', 'CompanyInfoController@create')->middleware('auth:api');        Route::post('company.info.update', 'CompanyInfoController@update')->middleware('auth:api');        Route::get('company.address.getInfo', 'CompanyAddressController@getInfo')->middleware('auth:api');        Route::get('company.address.getList', 'CompanyAddressController@getList')->middleware('auth:api');        Route::post('company.address.create', 'CompanyAddressController@create')->middleware('auth:api');        Route::post('company.address.update', 'CompanyAddressController@update')->middleware('auth:api');        Route::post('company.address.delete', 'CompanyAddressController@delete')->middleware('auth:api');        Route::get('resume.getInfo', 'ResumeController@getInfo');        Route::get('resume.getList', 'ResumeController@getList');        Route::get('resume.info.getInfo', 'ResumeInfoController@getInfo')->middleware('auth:api');        Route::post('resume.info.create', 'ResumeInfoController@create')->middleware('auth:api');        Route::post('resume.info.update', 'ResumeInfoController@update')->middleware('auth:api');        Route::get('welfare.getList', 'WelfareController@getList');    });    Route::group(['namespace' => 'Lbs', 'prefix' => 'lbs'], function () {        Route::get('geocode.geo', 'GeoCodeController@geo');        Route::get('geocode.regeo', 'GeoCodeController@regeo');    });});//获取APP版本Route::get('app/getversion', function () {    $userAgent = 'time:' . time() . ',' . $_SERVER['HTTP_USER_AGENT'];    if (strpos($userAgent, 'Android') || strpos($userAgent, 'okhttp')) {        return jsonSuccess(['version' => 1.0, 'userAgent' => $userAgent]);    } else {        return jsonSuccess(['version' => 1.0, 'userAgent' => $userAgent]);    }});Route::any('reachable', function () {    return jsonSuccess();});